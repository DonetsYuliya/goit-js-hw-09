{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAUC,SAASC,cAAc,SAEvC,IAAIC,EAAa,KACbC,EAAW,EACf,MAAMC,EAAY,GAoBlB,SAASC,IACPC,YAAW,KACTH,GAAY,EACZI,MAAQH,EAAUG,MAClBC,EAAcL,EAAUI,OACC,IAArBH,EAAUK,SACdP,EAAaQ,aAAY,KACvBP,GAAY,EACZI,OAASH,EAAUO,KACnBH,EAAcL,EAAUI,OACpBH,EAAUK,QAAUN,GAAUS,cAAcV,EAAW,GAC1DE,EAAUO,MAAK,GACjBP,EAAUG,M,CAGf,SAASC,EAAcK,EAAUN,GACTO,KAAKC,SAAW,GAEpClB,EAAAmB,OAAOC,QAAQ,uBAAqBJ,QAAiBN,OAErDV,EAAAmB,OAAOE,QAAQ,sBAAoBL,QAAiBN,M,CAtCxDR,EAAQoB,iBAAiB,UAEzB,SAAsBC,GACpBA,EAAMC,iBACN,IACEC,UAAUf,MAAEA,EAAKI,KAAEA,EAAIF,OAAEA,IACvBW,EAAMG,cAEV,MAAMC,EAAaC,OAAOlB,EAAMmB,OAC1BC,EAAYF,OAAOd,EAAKe,OACxBE,EAAcH,OAAOhB,EAAOiB,OAElCtB,EAAUG,MAAQiB,EAClBpB,EAAUO,KAAOgB,EACjBvB,EAAUK,OAASmB,EAEnBvB,G","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst formRef = document.querySelector('.form');\n\nlet intervalId = null;\nlet position = 0;\nconst userInput = {};\n\nformRef.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  let {\n    elements: { delay, step, amount },\n  } = event.currentTarget;\n\n  const delayValue = Number(delay.value);\n  const stepValue = Number(step.value);\n  const amountValue = Number(amount.value);\n\n  userInput.delay = delayValue;\n  userInput.step = stepValue;\n  userInput.amount = amountValue;\n\n  makePromise();\n}\nfunction makePromise() {\n  setTimeout(() => {\n    position += 1;\n    delay = userInput.delay;\n    createPromise(position, delay);\n    if (userInput.amount === 1) return;\n    intervalId = setInterval(() => {\n      position += 1;\n      delay += userInput.step;\n      createPromise(position, delay);\n      if (userInput.amount == position) clearInterval(intervalId);\n    }, userInput.step);\n  }, userInput.delay);\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n    Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  } else {\n    Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n  }\n}\n\n// createPromise(2, 1500)\n//   .then(({ position, delay }) => {\n//     Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n//   })\n//   .catch(({ position, delay }) => {\n//     Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n//   });\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$formRef","document","querySelector","$47d4ff9957288465$var$intervalId","$47d4ff9957288465$var$position","$47d4ff9957288465$var$userInput","$47d4ff9957288465$var$makePromise","setTimeout","delay","$47d4ff9957288465$var$createPromise","amount","setInterval","step","clearInterval","position1","Math","random","Notify","success","failure","addEventListener","event","preventDefault","elements","currentTarget","delayValue","Number","value","stepValue","amountValue"],"version":3,"file":"03-promises.eae51a5d.js.map"}